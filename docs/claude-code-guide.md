# Claude Code 初心者向けガイド

このプロジェクトではClaude CodeによるAI駆動開発を採用しています。このガイドでは、基本的な使い方からチーム開発での活用方法まで説明します。

## 目次

1. [セットアップ](#セットアップ)
2. [基本的な使い方](#基本的な使い方)
3. [よく使うコマンド](#よく使うコマンド)
4. [プロジェクト知識](#プロジェクト知識)
5. [チーム開発でのルール](#チーム開発でのルール)
6. [トラブルシューティング](#トラブルシューティング)
7. [今後追加予定の機能](#今後追加予定の機能)

---

## セットアップ

### 1. Claude Codeのインストール

```bash
# npmでインストール
npm install -g @anthropic-ai/claude-code

# または
brew install claude-code
```

### 2. 初回起動

```bash
# プロジェクトディレクトリに移動
cd singularity-lab-portal

# Claude Codeを起動
claude
```

### 3. 許可の承認

初回起動時、各種操作の許可を求められます。チーム共通の許可設定は`.claude/settings.json`に定義されているため、基本的なコマンドは自動的に許可されます。

---

## 基本的な使い方

### コードについて質問する

```
このファイルの役割を教えて
```

```
VideoCardコンポーネントの仕組みを説明して
```

### 実装を依頼する

```
VideoCardコンポーネントにお気に入りボタンを追加して
```

```
ユーザー一覧をページネーション対応にして
```

### デバッグを依頼する

```
このエラーの原因を調査して

[エラーメッセージを貼り付け]
```

### コードレビューを依頼する

```
このPRの変更内容をレビューして
```

---

## よく使うコマンド

| コマンド   | 説明               |
| ---------- | ------------------ |
| `/help`    | ヘルプを表示       |
| `/clear`   | 会話履歴をクリア   |
| `/compact` | コンテキストを圧縮 |
| `Ctrl+C`   | 処理を中断         |
| `Ctrl+D`   | 終了               |

---

## プロジェクト知識

Claude Codeは以下のファイルを自動的に読み込み、プロジェクトを理解します：

### チーム共有ファイル

| ファイル                | 内容                 |
| ----------------------- | -------------------- |
| `CLAUDE.md`             | プロジェクト指示書   |
| `.claude/settings.json` | チーム共通の許可設定 |

### CLAUDE.mdの内容

- 技術スタック（Next.js, TypeScript, Supabase等）
- ドキュメント参照先（GitHub Wiki、docs/）
- 開発コマンド
- ディレクトリ構造

詳細な規約は[GitHub Wiki](https://github.com/Singuralitylabs/portal-site/wiki)を参照してください。

---

## チーム開発でのルール

### やるべきこと

- Claude Codeの出力は必ず内容を確認してからコミット
- 不明点があれば「なぜそうするのか」をClaude Codeに質問する

### やってはいけないこと

- 機密情報（API Key、パスワード等）をClaude Codeに共有しない
- Claude Codeの出力を確認せずにそのままpushしない
- 本番環境に直接影響する操作をClaude Codeに依頼しない

### 推奨ワークフロー

1. **理解**: 何をしたいか明確にする
2. **依頼**: Claude Codeに実装を依頼
3. **確認**: 生成されたコードを確認
4. **テスト**: ローカルで動作確認
5. **コミット**: 問題なければコミット
6. **レビュー**: PRを作成してチームレビュー

---

## トラブルシューティング

### Q: 許可を毎回求められる

**A**: `.claude/settings.json`に許可が定義されていない可能性があります。

### Q: プロジェクトの情報を知らない

**A**: `CLAUDE.md`が読み込まれていない可能性があります。ファイルが存在するか確認し、Claude Codeを再起動してください。

### Q: 古い情報で回答される

**A**: Claude Codeのコンテキストをクリアしてください。

```
/clear
```

---

## 今後追加予定の機能

以下の機能は現在チームでの共有設定が完了していませんが、今後導入予定です。興味がある方は個人環境で試すことができます。

### MCPサーバー

MCPサーバーを使うと、Claude Codeの機能を拡張できます。

| サーバー       | 用途                           |
| -------------- | ------------------------------ |
| **Serena**     | コード理解・プロジェクトメモリ |
| **Context7**   | ライブラリドキュメント参照     |
| **Sequential** | 複雑な問題の分析               |
| **GitHub**     | PR・Issue管理                  |
| **Supabase**   | データベース操作               |

### Serena Memories（プロジェクト知識の永続化）

Serena MCPを使うと、プロジェクト固有の知識をセッション間で共有できます。

```
.serena/memories/
├── project_overview.md      # プロジェクト概要
├── database_schema.md       # データベース構造
└── code_style_conventions.md # コーディング規約
```
